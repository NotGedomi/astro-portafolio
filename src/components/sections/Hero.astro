---
import { basics } from "@cv";
import Section from "@/components/Section.astro";
import { Icon } from 'astro-icon/components';
const { name, label, image, location, profiles, phone, email, discord } = basics;
const { city, region, maps } = location;

---
<Section>
  <div class="container">
    <img src={image} alt={name}/>
    <div class="info">
      <span class="verified-name">
        {name}
        <Icon name="Verified" class="verified-badge" title="Verified Dev"/>
      </span>
      <h2>{label}</h2>
      <span><Icon name="World"/><a href={maps} target="_blank">{city}, {region}</a></span>
      <footer class="social-icons">
        {
          email && (
            <a href={`mailto:${email}`} target="_blank">
              <Icon name="Mail" title="Mail"/>
            </a>
          )
        }
        {
          phone && (
            <a href={`phone:${phone}`} target="_blank">
              <Icon name="Phone" title="Phone"/>
            </a>
          )
        }
        {
          profiles.map(({ network, url }) => {
            return (
              <a href={url} target="_blank">
                <Icon name={network} title={network}/>
              </a>
            );
          })
        }
        {
          discord && (
            <a href={discord} target="_blank">
              <Icon name="Discord" title="Discord"/>
            </a>
          )
        }
      </footer>
    </div>
  </div>
</Section>

<style>
    .container {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 0.8rem;
        width: fit-content;
    }

    .info {
        line-height: 1;
        display: flex;
        flex-direction: column;
        gap: 0.6rem;
    }

    h1 {
        font-size: 1.8rem;
    }

    h2 {
        color: #444;
        font-weight: 400;
        font-size: 1rem;
        line-height: 1;
        letter-spacing: 0.2px;
        text-wrap: wrap;
    }

    img {
    aspect-ratio: 1/1;
    object-fit: cover;
    border-radius: 8%;
    min-width: 94px;
    max-width: 180px;
    width: 100%;
    height: auto;
    transition: 0.8s;

      &&:hover {
        cursor: pointer;
        filter: brightness(110%);

      }
    }

    span {
        color: #666;
        display: flex;
        gap : 0.25rem;
        text-align: center;
        align-items: center;
        margin-top: 0px;
        margin-bottom: 0px;
    }


    footer {
      display: flex;
      gap: 3px;
      padding: auto;
    }

    footer a {
      color: #000;
      display: inline-flex;
      align-items: center;
      border: 1px solid #f8f8f8;
      padding: 7px;
      height: 32px;
      width: 32px;
      border-radius: 6px;
      transition: all .5s ease;

        &&:hover {
        background-color: #f8f8f8;
        }
    }

    span a {
      color: #777;
      margin-top: 2px;
      text-align: center;
      font-size: 0.75rem;
      letter-spacing: -0.02rem;
      text-wrap: wrap;
      
        &&:hover {
          cursor: pointer;
          text-decoration: underline;
        }
    }

    span.verified-name {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      font-weight: 700;
      line-height: 1.5;
      font-size: 1.5rem;
      color: #000;
      display: flex;
      flex-direction: row;
      align-items: center;
    }

    .verified-badge {
        margin-top: 6px;

        &&:hover {
          cursor: pointer;
        }
      }

    @media (width <= 700px) {
      .container {
      display: flex;
      flex-direction: column;
    }

      .info {
        justify-content: center;
        align-items: center;
        text-align: center;
      }
    }
</style>
